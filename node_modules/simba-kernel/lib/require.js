//require
var _cache = {};
var simba = require('../');
module.exports = function () {
	var path;
	var name = Array.prototype.slice.call(arguments, 0).join('-');
	if (_cache.hasOwnProperty(name)) return _cache[name];
	var names = [];
	try {
		var pluginName = 'simba' + '-' + name;
		names.push(pluginName);
		path = require.resolve(pluginName);
		try {
			return _cache[name] = require(pluginName);
		} catch (e) {
			simba.log.error('load plugin [' + pluginName + '] error : ' + e.message);
			process.exit(0);
		}
	} catch (e) {
	}
	simba.log.error('unable to load plugin [' + names.join('] or [') + ']');
	process.exit(0);
};
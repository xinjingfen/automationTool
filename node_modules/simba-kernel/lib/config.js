var Config = module.exports = function ds() {
};

var util = require('./util');
var defaultCfg = Config._data = {
	"configFileName": "config.json", //配置文件名称
	"server":{
		"localServerPort": 3000, 	//本地服务器端口
		"isOpenAuto": true          //是否自动打开浏览器
	},
	"build":{
		"uglify":{		   			//JS压缩
			isUgli: true,			//是否压缩
			mangle: true,  			//默认：true 是否修改变量名
			compress: true, 			//默认：true 是否完全压缩
			files:{}				//若非simba初始化目录，config.json文件里应配置此项
		},
		"cssMin":{
			files:{}
		}
	}
};

Config.extend = function (obj) {
	util.extend(defaultCfg, obj);
};

Config.set = function () {
	var first = arguments[0];
	var second = arguments[1];
	if (util.isJson(first)) {
		util.extend(defaultCfg, first);
	} else if ('string' == typeof first && second) {
		defaultCfg[first] = second;
	}
};

Config.del = function (key) {
	delete defaultCfg[key];
};

Config.get = function () {
	if (arguments.length > 0) {
		return defaultCfg[arguments[0]];
	} else {
		return defaultCfg;
	}
};
